<body>
    <!-- Specific CSS goes HERE -->
    {% block stylesheets %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.css"
        type="text/css" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.css"
        type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf/min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        /* Add this style to remove the outline of the input */
        input[disabled] {
            border: none;
            outline: none;
            box-shadow: none;
        }

        /* Add this style to align the labels to the left */
        .text-right {
            text-align: left !important;
            padding:2px
        }

        .form-group.row {
        margin-bottom: 2px; /* Adjust the margin between form groups */
    }

        .form-group.row {
            margin-bottom: 10px; /* Adjust the margin between form groups */
        }

        .form-group.row input {
            font-weight: bold; /* Make the input text bold */
        }

    </style>

    

    {% endblock stylesheets %}
    {% block content %}

    <div class="main-panel">
        <div class="content-wrapper">
            <div class="row">
                <div class="col-12 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title" style="text-align: center;">Student Details</h4>
                            <hr>
                            <div class="pos-rel">
                                <div class="connected-line"></div>
                                <!-- Tab panes -->
                                    <form method="POST" id="update_form" class="seminor-login-form" action=""
                                        enctype="multipart/form-data">
                                        <div class="tab-content">
                                        <div id="studentDetail" class="">
                                            <div class="student">
                                                <div class="container mt-0">
                                                    <div class="row justify-content-center">

                                                        <!-- Student Photo -->
                                                        <div class="row justify-content-between">
                                                            <!-- Left-aligned image -->
                                                            <div class="col-md-3 col-sm-6 mb-3">
                                                                <div class="card p-1 py-1" style="border-color: rgba(0, 0, 0, 0);">
                                                                    <div class="text-center">
                                                                        <img src="../../static/images/logo.png" class="img-fluid rounded-circle" style="width: 130px; height: 150px;" alt="UA logo">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                            <!-- Right-aligned image -->
                                                            <div class="col-md-3 col-sm-6 mb-3">
                                                                <div class="card p-1 py-1" style="border-color: rgba(0, 0, 0, 0);">
                                                                    <div class="text-center">
                                                                        <a href="{{ std.half_photo }}" class="image-popup" title="Passport Size Photo">
                                                                            <img src="{{ std.half_photo }}" style="width: 130px; height: 130px;"  class="img-fluid rounded-circle" alt="Student Photo">
                                                                        </a>
                                                                        <p>Student Photo</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                                                                                                                            </div>
                                            </div>
                                                                                            
                                                <hr>

                                                <div class=" p-1 mb-2 mt-3 bg-secondary"
                                                style="font-weight: 500; font-size: 18px; color: green;">
                                                PERSONAL INFORMATION</div> <br> 
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group row">
                                                            <label for="FirstName" class="control-label col-sm-4 text-right">First Name:</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{-std.first_name}}" name="FirstName" id="FirstName"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                
                                                        <div class="form-group row">
                                                            <label for="cid"
                                                                class="control-label col-sm-4 text-right">CID
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std.student_cid}}" name="cid" id="cid"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group row">
                                                            <label for="LastName"
                                                                class="control-label col-sm-4 text-right">Last
                                                                Name:</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std.last_name}}" 
                                                                    class="form-control" name="last_name" id="last_name"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="DateofBirth"
                                                                class="control-label col-sm-4 text-right">Date of
                                                                Birth
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std.dob}}" name="dob" id="dob" disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group row">
                                                            <label for="Gender"
                                                                class="control-label col-sm-4 text-right">Gender
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std.gender}}" name="gender" id="gender"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="EmailAddress"
                                                                class="control-label col-sm-4 text-right">Email
                                                                Address
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std.student_email}}"
                                                                    class="form-control" name="email_add" id="email_add"
                                                                    disabled>
                                                            </div>
                                                      </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group row">
                                                            <label for="Dzongkhag"
                                                                class="control-label col-sm-4 text-right">Dzongkhag:</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std_info.dzo_name}}" name="per_dzongkhag"
                                                                    id="per_dzongkhag" disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="Gewog"
                                                                class="control-label col-sm-4 text-right">Gewog
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std_info.gewog_name}}" name="per_gewog"
                                                                    id="per_gewog" disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group row">
                                                            <label for="village"
                                                                class="control-label col-sm-4 text-right">Village
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std.village_name}}"
                                                                    class="form-control" name="per_village"
                                                                    id="per_village" disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group row">
                                                            <label for="Phone Number"
                                                                class="control-label col-sm-4 text-right">Phone
                                                                Number
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std.student_phone_number}}"
                                                                    class="form-control" name="phone_num" id="phone_num"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr>
                                                <!-- perminant address -->
                                                <div class=" p-1 mb-2 mt-3 bg-secondary"
                                                    style="font-weight: 500; font-size: 18px; color: green;">PRESENT
                                                    ADDRESS
                                                    DETAIL</div> <br>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group row">
                                                            <label for="village"
                                                                class="control-label col-sm-4 text-right">Dzongkhag
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std_info.dzo_name}}" name="pre_dzongkhag"
                                                                    id="pre_dzongkhag" disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="geog"
                                                                class="control-label col-sm-4 text-right">Geog
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std_info.gewog_name}}"
                                                                    class="form-control" name="per_gewog" id="per_gewog"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <div class="form-group row">
                                                            <label for="village"
                                                                class="control-label col-sm-4 text-right">Village
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std_info.village_name}}"
                                                                    class="form-control" name="per_village"
                                                                    id="per_village" disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class=" p-1 mb-2 mt-3 bg-secondary"
                                        style="font-weight: 500; font-size: 18px; color: green;">
                                        ACADEMIC DETAILS</div> <br>     

                                        <div id="academicDetail" class="">
                                            <!-- second display -->
                                            <div class="academic">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group row">
                                                            <label for="Index Number"
                                                                class="control-label col-sm-4 text-right">Index
                                                                Number
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std.index_number}}" name="index_num"
                                                                    id="index_num" disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" {% if(std.bcse_x=='' ) %} hidden {%
                                                            endif %}>
                                                            <label for="BCSE"
                                                                class="control-label col-sm-4 text-right">BCSE
                                                                (Class X):</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std.bcse_x}}"
                                                                    class="form-control" name="class_x" id="class_x"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="Accommodation"
                                                                class="control-label col-sm-4 text-right">Accommodation
                                                                (if
                                                                admitted):</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std.accommodation}}" name="accommodation"
                                                                    id="accommodation" disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" {% if(previous_school_name=='' )
                                                            %} hidden {% endif %}>
                                                            <label for="PreviousSchool"
                                                                class="control-label col-sm-4 text-right">Previous
                                                                School:</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std.previous_school_name}}"
                                                                    name="previous_school" id="previous_school"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="SUPW Grade"
                                                                class="control-label col-sm-4 text-right">SUPW Grade
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std.supw_grade}}"
                                                                    class="form-control" name="supw" id="supw" disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="Percentage"
                                                                class="control-label col-sm-4 text-right">Percentage
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std.percentage_obtained}}%"
                                                                    class="form-control" name="percentage"
                                                                    id="percentage" disabled>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <div class="form-group row" {% if(std.student_code=='' ) %}
                                                            hidden {% endif %}>
                                                            <label for="studentcode"
                                                                class="control-label col-sm-4 text-right">student
                                                                Code
                                                                :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std.student_code}}" name="std_code"
                                                                    id="std_code" disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" {% if(std.bhsec_xii=='' ) %} hidden
                                                            {% endif %}>
                                                            <label for="BHSEC"
                                                                class="control-label col-sm-4 text-right">BHSEC
                                                                (Class XII) :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" class="form-control"
                                                                    value="{{std.bhsec_xii}}" name="class_XII"
                                                                    id="class_XII" disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="Admission"
                                                                class="control-label col-sm-4 text-right">Admission
                                                                for?
                                                                (Enter
                                                                class) :</label>
                                                            <div class="col-sm-8">
                                                                <input type="text" value="{{std.class_name}}"
                                                                    class="form-control" name="admission" id="admission"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> <br><br>

                                        <hr>
                                        <div class=" p-1 mb-2 mt-3 bg-secondary"
                                        style="font-weight: 500; font-size: 18px; color: green;">
                                        PARENT DETAILS</div> <br> 

                                        <div id="parent-detail" class=" ">
                                            <!-- third display -->
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group row">
                                                        <label for="CID" class="control-label col-sm-4 text-right">CID
                                                            :</label>
                                                        <div class="col-sm-8">
                                                            <input type="text" class="form-control"
                                                                value="{{std.parent_cid}}" name="par_cid" id="par_cid"
                                                                disabled>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="ParentName"
                                                            class="control-label col-sm-4 text-right">Parent
                                                            Name :</label>
                                                        <div class="col-sm-8">
                                                            <input type="text" value="{{std.parent_full_name}}"
                                                                class="form-control" name="par_name" id="par_name"
                                                                disabled>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group row">
                                                        <label for="EmailAddress"
                                                            class="control-label col-sm-4 text-right">Email Address
                                                            :</label>
                                                        <div class="col-sm-8">
                                                            <input type="text" value="{{std.parent_email}}"
                                                                class="form-control" name="par_email" id="par_email"
                                                                disabled>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="PhoneNumber"
                                                            class="control-label col-sm-4 text-right">Phone Number
                                                            :</label>
                                                        <div class="col-sm-8">
                                                            <input type="text" value="{{std.parent_contact_number}}"
                                                                class="form-control" name="par_number" id="par_number"
                                                                disabled>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    {% endblock content %}

    <!-- Specific JS goes HERE -->
    {% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <script>
        $("#action").on('change', function () {
            if (this.value == '') {
                $("#action").addClass('is-invalid')
            } else {
                $("#action").removeClass('is-invalid')
                $("#action").addClass('is-valid')
            }
        });

        $("#update").on('click', function () {
            if ($("#action").val() == '') {
                $("#action").addClass('is-invalid')
            } else {
                var form_data = new FormData($('#update_form')[0])
                $.ajax({
                    type: "POST",
                    url: "/update-status",
                    data: form_data,
                    dataType: "json",
                    contentType: false,
                    cache: false,
                    processData: false,
                    beforeSend: function () {
                        $("#update").text("Loading....")
                        $("#update").attr("disabled", true)
                        $("#update").addClass("disabled")

                    },
                    success: function (data) {
                        swal('Success', 'Application status updated successfully', 'success').then(function () {
                            window.location = '/admin-student-application-list'
                        })
                    },
                    error: function () {
                        swal('Success', 'Application status updated successfully', 'success').then(function () {
                            window.location = '/admin-student-application-list'
                        })
                    }
                });
            }
        });

    </script>

    {% endblock javascripts %}